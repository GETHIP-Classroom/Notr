<html>
    <head>
            <link rel='stylesheet' href='fullcalendar.css' />
            <script src='jquery.min.js'></script>
            <script src='moment.min.js'></script>
            <script src='fullcalendar.js'></script>

            <script>
            $(document).ready(function() {
                
                    // page is now ready, initialize the calendar...
                
                    $('#calendar').fullCalendar({
                        // put your options and callbacks here
                        header: {
                            left: 'prev,next today',
                            center: 'title',
                            right: 'month,agendaWeek,agendaDay'
                        }, 
                        selectable: true, 
                        selectHelper: true,
                        editable: true,
                        eventlimit: true,
                        events: '/events.json',

                        select: function(start, end) {
                            $.getScript('/events/new', function() {});

                            calendar.fullCalendar('unselect');
                                
                        },

                        eventDrop: function(event, delta, revertFunc) {
                            event_data = { 
                                event: {
                                    id: event.id,
                                    start: event.start.format(),
                                    end: event.end.format()
                                }
                            };
                                    $.ajax({
                                        url: event.update_url,
                                        data: event_data,
                                        type: 'PATCH'
                                    });
                                  },
                                  
                                  eventClick: function(event, jsEvent, view) {
                                    $.getScript(event.edit_url, function() {});
                                  }
                                });
                              })

            </script>
    </head>

    <body> 
            <div id='calendar'></div>
    </body>
</html>